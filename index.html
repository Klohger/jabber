<!DOCTYPE html>
<html>

<body style="
  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABV0lEQVQ4T11TixXCMAgkM7ETO5mdMpPeB1K1T9uE8Lk7yKp6vSNOxNY7svDFIvE/WCdsPNODPZ+zYajS2aoqJGinoolpJgj7Ojdh8FzZp0g6wa1IBK6BRdp3EDEIhWGOY6dI7FcFEDQ0c9CRg8mD8Bkl8+wbKMxIAA1EmL9k6KOFw5RkyF1EDdQaMBi4LnyDAFTYtjkrK5E2Shf7Q2CY5ihQo8GGM8Vs3oOU7iuhQX6pb+7IwMq0CwGIIWNKPe8HyqpEF1onffnqGZCAhD1fsZkktv/MwUFFcWaORsVWMUm3X1pZbto5B0RAAclx+ny5DzTSebqhaGplETkHzXX4XQ2aadMSEtHsaPBdgbsg2LcCkLB9InIH+5mDWbVOK0HBzs6qCkNnnEfIHrMeVsWs5G0k9/8+A96d7L49vJ0yauhObOwlomZ/lOWaPZf61ua8HChivZ92fwBetdiKor5XUQAAAABJRU5ErkJggg==');
  background-repeat: repeat;
  background-size: 4em; 
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  image-rendering: -moz-crisp-edges;
  image-rendering: optimizeSpeed;

  color: aqua;
  ">
  <h1 style="
  display: block;
  font-size: 2em;
  margin-block-start: 0.67em;
  margin-block-end: 0.67em;
  margin-inline-start: 0px;
  margin-inline-end: 0px;
  font-weight: bold;
  ">KLOHGERS WACKY COOL SUPER WACKY FILE SHARING SITE WOWIE</h1>
  <ul id="THE_LIST"></ul>
</body>
<script>
    var ClientMessageType;
    (function (ClientMessageType) {
        ClientMessageType[ClientMessageType["InvitationRequest"] = 0] = "InvitationRequest";
        ClientMessageType[ClientMessageType["SendMessageTo"] = 1] = "SendMessageTo";
        ClientMessageType[ClientMessageType["SendFileTo"] = 2] = "SendFileTo";
    })(ClientMessageType || (ClientMessageType = {}));
    var TransferrableType;
    (function (TransferrableType) {
        TransferrableType[TransferrableType["Message"] = 0] = "Message";
        TransferrableType[TransferrableType["File"] = 1] = "File";
    })(TransferrableType || (TransferrableType = {}));
    var ServerMessageType;
    (function (ServerMessageType) {
        ServerMessageType[ServerMessageType["InvitationResult"] = 0] = "InvitationResult";
        ServerMessageType[ServerMessageType["RecieveFrom"] = 1] = "RecieveFrom";
        ServerMessageType[ServerMessageType["User"] = 2] = "User";
    })(ServerMessageType || (ServerMessageType = {}));
    const ws = new WebSocket(`ws://${window.location.host}`);
    ws.onopen = (_) => InvitationRequest("Gamer3");
    function InvitationRequest(username) {
        ws.send(JSON.stringify({
            _type: ClientMessageType.InvitationRequest,
            user: username,
        }));
    }
    function SendMessageTo(user, message) {
        ws.send(JSON.stringify({ _type: ClientMessageType.SendMessageTo, user, message }));
    }
    function SendFileTo(user, file) {
        ws.send(JSON.stringify({ _type: ClientMessageType.SendFileTo, user, file }));
    }
    const users = new Set();
    ws.onmessage = (ev) => {
        const message = ev.data;
        switch (message._type) {
            case ServerMessageType.InvitationResult:
                if (message.accepted) {
                    message.other_users.forEach((user) => users.add(user));
                }
                break;
            case ServerMessageType.RecieveFrom:
                switch (message.tranferrable_type) {
                    case TransferrableType.Message:
                        alert(`Message from ${message.user}:\n${message.message}`);
                        break;
                    case TransferrableType.File:
                        alert(`Recieved file \"${message.user}\"`);
                }
                break;
            case ServerMessageType.User:
                if (message.connected) {
                    alert(`${message.user} connected.`);
                    users.add(message.user);
                }
                else {
                    alert(`${message.user} disconnected.`);
                    users.delete(message.user);
                }
        }
    };
    //# sourceMappingURL=swag.js.map
</script>

</html>